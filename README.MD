# Projeto em NodeJS sobre Sess√µes e Cookies üç™üöÄ

Os cookies s√£o pequenos peda√ßos de dados armazenados no navegador do cliente. Aqui est√£o alguns pontos importantes sobre cookies:
- s√£o excelentes para armazenar dados no cliente (navegador);
- n√£o armazene dados sens√≠veis aqui, pois podem ser visualizados e manipulados.
- os cookies podem ser configurados para expirar quando o navegador √© fechado (=> "Session Cookie") ou quando uma determinada idade/data de expira√ß√£o √© atingida ("Permanent Cookie").
- funcionam bem em conjunto com sess√µes.
---

## 1. **Configura√ß√£o de Cookies em Express üõ†Ô∏è**
- geralmente √© utilizado o middleware cookie-parser;
- este middleware analisa os cabe√ßalhos de cookies e os torna acess√≠veis no objeto req.cookies;
~~~javascript
const express = require('express');
const cookieParser = require('cookie-parser');

const app = express();

app.use(cookieParser());
~~~
---

## 2. **Definindo Cookies üç™** 
- podemos definir cookies usando o m√©todo res.cookie();
- este m√©todo aceita o nome do cookie, seu valor e op√ß√µes adicionais, como tempo de expira√ß√£o e configura√ß√µes de seguran√ßa;
~~~javascript
app.get('/definir-cookie', (req, res) => {
  // Define um cookie chamado 'exemplo' com o valor '123' e expira em 1 hora
  res.cookie('exemplo', '123', { maxAge: 3600000 });
  res.send('Cookie definido com sucesso!');
});
~~~
---

## 3. **Lendo Cookies üìñ**
- os cookies definidos podem ser lidos a partir do objeto req.cookies;
- este objeto cont√©m pares chave-valor dos cookies associados √† requisi√ß√£o atual;
~~~javascript
app.get('/ler-cookie', (req, res) => {
  // L√™ o valor do cookie 'exemplo'
  const valorDoCookie = req.cookies.exemplo;
  res.send(`Valor do Cookie: ${valorDoCookie}`);
});
~~~
---

## 4. **Expira√ß√£o de Cookies ‚åõ**
- para configurar a expira√ß√£o de um cookie, √© utilizado a op√ß√£o maxAge para especificar a dura√ß√£o em milissegundos;
~~~javascript
app.get('/cookie-expirado', (req, res) => {
  // Define um cookie que expirar√° ap√≥s 1 minuto
  res.cookie('cookieExpirado', 'Este cookie vai expirar em breve', { maxAge: 60000 });
  res.send('Cookie com expira√ß√£o definida');
});
~~~
---

## 5. **Excluindo Cookies ‚ùå**
- para excluir um cookie, voc√™ pode definir seu valor como null e, opcionalmente, especificar op√ß√µes de expira√ß√£o;
~~~javascript
app.get('/deletar-cookie', (req, res) => {
  // Exclui o cookie 'exemplo'
  res.cookie('exemplo', null, { maxAge: 0 });
  res.send('Cookie exclu√≠do com sucesso!');
});
~~~
---

## 6. **Seguran√ßa üîê**
- ao lidar com dados sens√≠veis, √© essencial configurar cookies com as op√ß√µes de seguran√ßa apropriadas, como o uso do atributo httpOnly para proteger contra ataques XSS;
~~~javascript
app.get('/cookie-seguro', (req, res) => {
  // Define um cookie seguro e acess√≠vel apenas via HTTP
  res.cookie('cookieSeguro', 'Este √© um cookie seguro', { httpOnly: true, secure: true });
  res.send('Cookie seguro definido com sucesso!');
});
~~~
